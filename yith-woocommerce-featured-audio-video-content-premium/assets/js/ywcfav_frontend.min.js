jQuery(function(_){var i,e,t=_(document).find(ywcfav_params.img_class_container+".yith_featured_content,"+ywcfav_params.img_class_container+".ywcfav_video_modal_container"),c=1<_(document).find(ywcfav_params.img_class_container).length;_(".woocommerce-product-gallery").on("wc-product-gallery-after-init",function(){var a;(a=t).each(function(){var a=_(this).index(),e=null,e=_(this).hasClass("ywcfav_video_modal_container")?_(this):_(this).find(".ywcfav-audio-content iframe,.ywcfav-video-content iframe,.ywcfav-video-content div.iframe,.ywcfav-video-content video, .ywcfav_video_embedded_iframe"),a=(e=_(e[0]),_(ywcfav_params.thumbnail_gallery_class_element).get(a)),e=(e=e.attr("id")).replace("_html5_api","");_(a).addClass("yith_featured_thumbnail"),_(a).find("img").attr("id",e),_(document).trigger("yith_featured_gallery_single_item_initialized",[_(a),_(this)])}),_(document).trigger("yith_featured_gallery_initialized",[a])}),ywcfav_params.trigger_variation&&(_(".variations_form.cart").on("show_variation",function(a,t){setTimeout(function(){var a,e="undefined"!=typeof t.variation_video&&t.variation_video;(e?_(ywcfav_params.thumbnail_gallery_class_element).find("img#"+e):(e=_(document).find(ywcfav_params.thumbnail_gallery_class_element).find('img[src="'+t.image.gallery_thumbnail_src+'"]'),a=_(document).find(ywcfav_params.img_class_container).get(0),_(a).length&&(_(a).hasClass("yith_featured_content")||_(a).hasClass("ywcfav_video_modal_container"))&&i(_(a),t),_(window).trigger("resize"),e)).trigger("click")},101)}).on("reset_data",function(a){setTimeout(function(){var a=_(document).find(ywcfav_params.img_class_container+ywcfav_args.current_slide_active_class);0==a.index()&&a.hasClass("yith_featured_content")&&e(a),_(window).trigger("resize"),a.trigger("woocommerce_gallery_init_zoom")},100)}),i=function(a,e){var t=a.find('div[class^="ywcfav"]:eq(0)'),i=_("<a>"),r=_("<img>"),o=_(ywcfav_params.thumbnail_gallery_class_element).get(0),n=!1;t.length||((t=a.find("a.ywcfav_show_modal")).parent().removeClass("ywcfav_video_modal_container"),n=!0),_(ywcfav_args.product_gallery_trigger_class).show(),t.hide(),_(o).removeClass("yith_featured_thumbnail"),c&&!a.find("a.ywfav_zoom_image").length||a.find("a.ywfav_zoom_image").remove(),a.find("a.ywfav_zoom_image").length||(i.attr("href",e.image.full_src),i.addClass("ywfav_zoom_image"),r.attr("src",e.image.src),r.attr("height",e.image.src_h),r.attr("width",e.image.src_w),r.attr("srcset",!1===e.image.srcset?e.image.src:e.image.srcset),r.attr("sizes",e.image.sizes),r.attr("title",e.image.title),r.attr("data-caption",e.image.caption),r.attr("alt",e.image.alt),r.attr("data-src",e.image.full_src),r.attr("data-large_image",e.image.full_src),r.attr("data-large_image_width",e.image.full_src_w),r.attr("data-large_image_height",e.image.full_src_h),r.addClass("ywfav_zoom_image"),i.append(r),n?i.insertBefore(a.find("a.ywcfav_show_modal")):a.append(i),"undefined"!=typeof a.zoom&&(a.trigger("zoom.destroy"),t=_.extend({touch:!1,url:e.image.full_src},ywcfav_params.zoom_options),"ontouchstart"in document.documentElement&&(t.on="click"),"undefined"!=typeof zoom)&&a.zoom(t))},e=function(a){a.trigger("zoom.destroy"),a.find(".ywfav_zoom_image").remove();var e,t=_(ywcfav_params.thumbnail_gallery_class_element).get(0),i=a.find('div[class^="ywcfav"]:eq(0)');a.find("a.ywcfav_show_modal").length&&(a.find("a.ywcfav_show_modal").show(),a.addClass("ywcfav_video_modal_container"),(e=a.find("a.ywcfav_show_modal")).attr("href",e.data("o_href"))),_(t).addClass("yith_featured_thumbnail"),i.show(),_(ywcfav_args.product_gallery_trigger_class).hide(),_(window).trigger("resize"),_(a).trigger("woocommerce_gallery_init_zoom"),i.trigger("woocommerce_gallery_init_zoom")},_(".woocommerce-product-gallery").on("wc-product-gallery-after-init",function(){var e,a=_(".woocommerce-product-gallery").data("flexslider");a&&(a.vars.before=function(a){a=a.currentSlide,a=_(ywcfav_params.thumbnail_gallery_class_element).find("img").get(a);_(a).parent("li").hasClass("yith_featured_thumbnail")&&_(document).trigger("ywcfav_before_slide_show",_(a).attr("id"))},e=a.vars.after,a.vars.after=function(a){e(a);a=a.currentSlide,a=_(ywcfav_params.thumbnail_gallery_class_element).find("img").get(a),a=void 0!==_(a).attr("id")&&_(a).attr("id");_(document).trigger("ywcfav_after_slide_show",a),setTimeout(function(){_(window).trigger("resize")},100)})}))});