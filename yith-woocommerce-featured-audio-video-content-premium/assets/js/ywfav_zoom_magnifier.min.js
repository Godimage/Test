jQuery(function(o){var n="",e="",t={message:null,overlayCSS:{background:"#fff",opacity:.6},ignoreIfBlocked:!0},d=function(){var a,i=o(document).find(".ywcfav_variation_content");i.find(".host").length&&(a=i.find("video"),videojs(a.attr("id")).dispose()),i.find("div:first-child").remove()},_=function(){var a;""!==e?e.hasClass("ywcfav_video_modal_container")?(e.show(),(a=e.find("a.ywcfav_show_modal")).attr("href",a.data("o_href"))):e.parents(".yith_featured_content").show():o(".images > div:eq(0)").show()},c=function(){(""!==e?e.hasClass("ywcfav_video_modal_container")?e:e.parents(".yith_featured_content"):o(".images > div:eq(0)")).hide()},f=function(a){var i,n,t=o(document).find(".images");t.find("div.ywcfav_variation_content").length?n=t.find("div.ywcfav_variation_content"):((n=o("<div>")).addClass("ywcfav_variation_content"),i=o(t).find(".ywcfav_hide").length?o(t).find(".ywcfav_hide"):o(t).find("div:eq(0)"),n.insertAfter(i)),n.html(a),o(document).trigger("ywcfav_after_init_zoom"),o(t).find(".ywcfav_hide").hide(),c()};o(ywcfav_zoom_params.img_class_container+".yith_featured_content,"+ywcfav_zoom_params.img_class_container+".ywcfav_video_modal_container").each(function(){var a=o(this).index(),i=null,i=o(this).hasClass("ywcfav_video_modal_container")?o(this):o(this).find(".ywcfav-audio-content iframe,.ywcfav-video-content iframe,.ywcfav-video-content div.iframe,.ywcfav-video-content video, .ywcfav_video_embedded_iframe"),n=(i=o(i[0]),o(ywcfav_zoom_params.thumbnail_gallery_class_element).get(a)),t=i.attr("id");0===a&&(e=i),t=t.replace("_html5_api",""),o(n).addClass("yith_featured_thumbnail"),o(n).find("img").attr("id",t)}),o(document).on("click",".yith_magnifier_gallery li",function(a){((n="")!=e?o(this).hasClass("yith_featured_thumbnail")?(o(document).find(".ywcfav_hide").hide(),_):(o(document).find(".ywcfav_hide").show(),c):_)()}),o(".variations_form.cart").on("found_variation",function(a,i){"undefined"!=typeof i.variation_video?n=i:(n="")!=e?(o(document).find(".ywcfav_hide").show(),o(document).find(".yith_featured_content").hide()):_(),""!==e&&o(document).trigger("ywcfav_before_slide_show",o(e).attr("id"))}).on("reset_data",function(a){n="",o(document).find(".ywcfav_hide").hide(),_()}),o(document).on("yith_magnifier_after_init_zoom",function(a){var i;d(),void 0!==n&&""!==n&&(i={variation_id:n.variation_id,content_id:n.variation_video,action:ywcfav_zoom_params.actions.get_variation_content},o.ajax({type:"POST",data:i,url:ywcfav_zoom_params.admin_url,dataType:"json",beforeSend:function(){o(document).find(".yith_magnifier_zoom_wrap").block(t)},success:function(a){f(a)},complete:function(){o(document).find(".yith_magnifier_zoom_wrap").unblock()}}))}),o(document).on("click",".ywcfav_thumbnails_video_container a.ywcfav_video_as_zoom,.ywcfav_thumbnails_audio_container a.ywcfav_audio_as_zoom",function(a){a.preventDefault();var a=o(this).hasClass("ywcfav_video_as_zoom")?"video":"audio",i=o(this),i={product_id:i.data("product_id"),content_id:i.data("content_id"),content_type:a,action:ywcfav_zoom_params.actions.get_gallery_content};n="",o.ajax({type:"POST",data:i,url:ywcfav_zoom_params.admin_url,dataType:"json",success:function(a){d(),f(a)}})})});